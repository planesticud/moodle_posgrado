define(["jquery","core/url","core/log"],function(a,b,c){function d(a,b){this.loading=!1,this.loaded=b,this.callbacks=[],this.scripts=a}var e=new d(["/mod/vpl/editor/jquery/jquery-1.9.1.js","/mod/vpl/editor/jquery/jquery-ui-1.10.4.js","/mod/vpl/editor/VPL_jquery_no_conflict.js","/mod/vpl/editor/VPLUtil.js"],"undefined"!=typeof VPL_Util),f=new d(["/mod/vpl/editor/xterm/term.js","/mod/vpl/editor/VPLTerminal.js"],"undefined"!=typeof VPL_Terminal);function g(d){return function(e){d.loaded?e():(d.callbacks.push(e),d.loading||(d.loading=!0,function e(f){f<d.scripts.length?a.ajax({url:b.relativeUrl(d.scripts[f]),dataType:"script",cache:!0}).then(function(){e(f+1)}).catch(c.error):(d.loaded=!0,d.callbacks.forEach(function(a){a()}))}(0)))}}function h(a,b){"undefined"!=typeof VPLUtil?b():a>=2021011014?require(["mod_vpl/vplutil"],function(a){window.VPLUtil=a,b()}):g(e)(function(){window.VPLUtil=VPL_Util,b()})}return{loadVPLUtil:h,loadVPLTerminal:function(c,d){"undefined"!=typeof VPLTerminal?d():h(c,c>=2021011014?function(){require(["mod_vpl/vplterminal"],function(c){window.VPLTerminal=c,a.ajax({url:b.relativeUrl("/mod/vpl/editor/xterm/term.js"),dataType:"script",cache:!0}).done(d)})}:function(){g(f)(function(){window.VPLTerminal=VPL_Terminal,d()})})}}});